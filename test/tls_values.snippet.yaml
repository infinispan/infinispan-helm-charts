deploy:
  ssl:
    endpointSecretName: "tls-secret"
    transportSecretName: "transport-tls-secret"
  infinispan:
    cacheContainer:
      transport:
         stack: "kubernetes"
         urn:infinispan:server:14.0:securityRealm: "cluster-transport"
    server:
      security:
        securityRealms:
        - name: default
         # [USER] Comment or remove this properties realm to disable authentication.
          propertiesRealm:
            groupProperties:
              path: groups.properties
            groupsAttribute: Roles
            userProperties:
              path: users.properties
          serverIdentities:
            ssl:
              keystore:
                alias: "server"
                path: "/etc/encrypt/endpoint/keystore.p12"
                password: "password"
                          # [METRICS] Security realm for the metrics endpoint.
        - name: "cluster-transport"
         # Security realm for cluster transport. This setup is for encryption only, no authentication.
         # All the cluster server will use the same certificate both for key and trust store.
          propertiesRealm:
            groupProperties:
              path: groups.properties
            groupsAttribute: Roles
            userProperties:
              path: users.properties
          serverIdentities:
            ssl:
              keystore:
                alias: "server"
                path: "/etc/encrypt/transport/cert.p12"
                password: "password"
              truststore:
                path: "/etc/encrypt/transport/cert.p12"
                password: "password"
        - name: metrics
        # [METRICS] Security realm for the metrics endpoint.
          propertiesRealm:
            groupProperties:
              path: metrics-groups.properties
              relativeTo: infinispan.server.config.path
            groupsAttribute: Roles
            userProperties:
              path: metrics-users.properties
              relativeTo: infinispan.server.config.path

